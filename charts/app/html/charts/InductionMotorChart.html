<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<!--
This HTML was auto-generated from MATLAB code.
To make changes, update the MATLAB code and republish this document.
      -->
<title>InductionMotorChart</title>
<meta name="generator" content="MATLAB 25.1">
<link rel="schema.DC" href="http://purl.org/dc/elements/1.1/">
<meta name="DC.date" content="2025-01-11">
<meta name="DC.source" content="InductionMotorChart.m">
<style type="text/css">
html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,font,img,ins,kbd,q,s,samp,small,strike,strong,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td{margin:0;padding:0;border:0;outline:0;font-size:100%;vertical-align:baseline;background:transparent}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none}:focus{outine:0}ins{text-decoration:none}del{text-decoration:line-through}table{border-collapse:collapse;border-spacing:0}

html { min-height:100%; margin-bottom:1px; }
html body { height:100%; margin:0px; font-family:Arial, Helvetica, sans-serif; font-size:10px; color:#000; line-height:140%; background:#fff none; overflow-y:scroll; }
html body td { vertical-align:top; text-align:left; }

h1 { padding:0px; margin:0px 0px 25px; font-family:Arial, Helvetica, sans-serif; font-size:1.5em; color:#d55000; line-height:100%; font-weight:normal; }
h2 { padding:0px; margin:0px 0px 8px; font-family:Arial, Helvetica, sans-serif; font-size:1.2em; color:#000; font-weight:bold; line-height:140%; border-bottom:1px solid #d6d4d4; display:block; }
h3 { padding:0px; margin:0px 0px 5px; font-family:Arial, Helvetica, sans-serif; font-size:1.1em; color:#000; font-weight:bold; line-height:140%; }

a { color:#005fce; text-decoration:none; }
a:hover { color:#005fce; text-decoration:underline; }
a:visited { color:#004aa0; text-decoration:none; }

p { padding:0px; margin:0px 0px 20px; }
img { padding:0px; margin:0px 0px 20px; border:none; }
p img, pre img, tt img, li img, h1 img, h2 img { margin-bottom:0px; }

ul { padding:0px; margin:0px 0px 20px 23px; list-style:square; }
ul li { padding:0px; margin:0px 0px 7px 0px; }
ul li ul { padding:5px 0px 0px; margin:0px 0px 7px 23px; }
ul li ol li { list-style:decimal; }
ol { padding:0px; margin:0px 0px 20px 0px; list-style:decimal; }
ol li { padding:0px; margin:0px 0px 7px 23px; list-style-type:decimal; }
ol li ol { padding:5px 0px 0px; margin:0px 0px 7px 0px; }
ol li ol li { list-style-type:lower-alpha; }
ol li ul { padding-top:7px; }
ol li ul li { list-style:square; }

.content { font-size:1.2em; line-height:140%; padding: 20px; }

pre, code { font-size:12px; }
tt { font-size: 1.2em; }
pre { margin:0px 0px 20px; }
pre.codeinput { padding:10px; border:1px solid #d3d3d3; background:#f7f7f7; }
pre.codeoutput { padding:10px 11px; margin:0px 0px 20px; color:#4c4c4c; }
pre.error { color:red; }

@media print { pre.codeinput, pre.codeoutput { word-wrap:break-word; width:100%; } }

span.keyword { color:#0000FF }
span.comment { color:#228B22 }
span.string { color:#A020F0 }
span.untermstring { color:#B20000 }
span.syscmd { color:#B28C00 }
span.typesection { color:#A0522D }

.footer { width:auto; padding:10px 0px; margin:25px 0px 0px; border-top:1px dotted #878787; font-size:0.8em; line-height:140%; font-style:italic; color:#878787; text-align:left; float:none; }
.footer p { margin:0px; }
.footer a { color:#878787; }
.footer a:hover { color:#878787; text-decoration:underline; }
.footer a:visited { color:#878787; }

table th { padding:7px 5px; text-align:left; vertical-align:middle; border: 1px solid #d6d4d4; font-weight:bold; }
table td { padding:7px 5px; text-align:left; vertical-align:top; border:1px solid #d6d4d4; }





  </style>
</head>
<body>
<div class="content">
<pre class="codeinput">
<span class="keyword">classdef</span> InductionMotorChart &lt; Chart
    <span class="comment">%INDUCTIONMOTORCHART Chart representing the operating performance of an</span>
    <span class="comment">%induction motor. Thanks to Chris Armstrong for the idea behind this</span>
    <span class="comment">%example.</span>
    <span class="comment">%</span>
    <span class="comment">% See also InductionMotorParameters.</span>

    <span class="comment">% Copyright 2021-2025 The MathWorks, Inc.</span>

    <span class="keyword">properties</span>
        <span class="comment">% Operating point of the motor.</span>
        OperatingPoint<span class="typesection">(1, 2) double {mustBeReal, mustBeFinite}</span> = [0, 0]
        <span class="comment">% Width of the rated and reduced curves.</span>
        LineWidth<span class="typesection">(1, 1) double {mustBePositive, mustBeFinite}</span> = 2
        <span class="comment">% Operating point marker size.</span>
        MarkerSize<span class="typesection">(1, 1) double {mustBePositive, mustBeFinite}</span> = 20
        <span class="comment">% Transparency of the patches.</span>
        FaceAlpha<span class="typesection">(1, 1) double {mustBeInRange( FaceAlpha, 0, 1 )}</span> = 0.6
        <span class="comment">% Visibility of the legend.</span>
        LegendVisible<span class="typesection">(1, 1) matlab.lang.OnOffSwitchState </span>= <span class="string">"on"</span>
    <span class="keyword">end</span> <span class="comment">% properties</span>

    <span class="keyword">properties</span> ( Dependent )
        <span class="comment">% A set of induction motor parameters.</span>
        MotorParameters<span class="typesection">(1, 1) InductionMotorParameters</span>
    <span class="keyword">end</span> <span class="comment">% properties</span>

    <span class="keyword">properties</span> ( Access = private, Transient, NonCopyable )
        <span class="comment">% The chart's axes.</span>
        Axes<span class="typesection">(:, 1) matlab.graphics.axis.Axes {mustBeScalarOrEmpty}</span>
        <span class="comment">% A plot object for the operating point.</span>
        OperatingPointPlot<span class="typesection">(:, 1) matlab.graphics.chart.primitive.Line </span><span class="keyword">...</span>
            <span class="typesection">{mustBeScalarOrEmpty}</span>
        <span class="comment">% A patch object for the normal operating region.</span>
        NormalRegionPatch<span class="typesection">(:, 1) matlab.graphics.primitive.Patch </span><span class="keyword">...</span>
            <span class="typesection">{mustBeScalarOrEmpty}</span>
        <span class="comment">% A patch object for the buffer region.</span>
        BufferRegionPatch<span class="typesection">(:, 1) matlab.graphics.primitive.Patch </span><span class="keyword">...</span>
            <span class="typesection">{mustBeScalarOrEmpty}</span>
        <span class="comment">% A patch object for the overload region.</span>
        OverloadRegionPatch<span class="typesection">(:, 1) matlab.graphics.primitive.Patch </span><span class="keyword">...</span>
            <span class="typesection">{mustBeScalarOrEmpty}</span>
        <span class="comment">% A line object for the rated curves.</span>
        RatedCurves<span class="typesection">(:, 1) matlab.graphics.primitive.Line </span><span class="keyword">...</span>
            <span class="typesection">{mustBeScalarOrEmpty}</span>
        <span class="comment">% A line object for the reduced curves.</span>
        ReducedCurves<span class="typesection">(:, 1) matlab.graphics.primitive.Line </span><span class="keyword">...</span>
            <span class="typesection">{mustBeScalarOrEmpty}</span>
    <span class="keyword">end</span> <span class="comment">% properties ( Access = private, Transient, NonCopyable )</span>

    <span class="keyword">properties</span> ( Access = private )
        <span class="comment">% Internal storage for the MotorParameters property.</span>
        MotorParameters_<span class="typesection">(1, 1) InductionMotorParameters </span>= <span class="keyword">...</span>
            InductionMotorParameters
        <span class="comment">% Logical flag indicating whether a full chart update is required.</span>
        FullUpdateRequired<span class="typesection">(1, 1) logical </span>= false
    <span class="keyword">end</span> <span class="comment">% properties ( Access = private )</span>

    <span class="keyword">properties</span> ( Constant, Hidden )
        <span class="comment">% Product dependencies.</span>
        Dependencies<span class="typesection">(1, :) string </span>= <span class="string">"MATLAB"</span>
        <span class="comment">% Description.</span>
        ShortDescription<span class="typesection">(1, 1) string </span>= <span class="string">"Display the operating point"</span> + <span class="keyword">...</span>
            <span class="string">" of an induction motor in speed-torque coordinates"</span>
    <span class="keyword">end</span> <span class="comment">% properties ( Constant, Hidden )</span>

    <span class="keyword">events</span> ( NotifyAccess = private, HasCallbackProperty )
        <span class="comment">% The operating point has moved out of the normal running region.</span>
        AbnormalPerformanceDetected
    <span class="keyword">end</span> <span class="comment">% events ( NotifyAccess = private, HasCallbackProperty )</span>

    <span class="keyword">methods</span>

        <span class="keyword">function</span> obj = InductionMotorChart( namedArgs )
            <span class="comment">%INDUCTIONMOTORCHART Construct an InductionMotorChart object,</span>
            <span class="comment">%given optional name-value arguments.</span>

            <span class="keyword">arguments</span> ( Input )
                namedArgs.?InductionMotorChart
            <span class="keyword">end</span> <span class="comment">% arguments ( Input )</span>

            <span class="comment">% Set any user-defined properties.</span>
            set( obj, namedArgs )

        <span class="keyword">end</span> <span class="comment">% constructor</span>

        <span class="keyword">function</span> value = get.MotorParameters( obj )

            value = obj.MotorParameters_;

        <span class="keyword">end</span> <span class="comment">% get.MotorParameters</span>

        <span class="keyword">function</span> set.MotorParameters( obj, value )

            obj.FullUpdateRequired = true;
            obj.MotorParameters_ = value;

        <span class="keyword">end</span> <span class="comment">% set.MotorParameters</span>

        <span class="keyword">function</span> varargout = xlabel( obj, varargin )

            [varargout{1:nargout}] = xlabel( obj.Axes, varargin{:} );

        <span class="keyword">end</span> <span class="comment">% xlabel</span>

        <span class="keyword">function</span> varargout = ylabel( obj, varargin )

            [varargout{1:nargout}] = ylabel( obj.Axes, varargin{:} );

        <span class="keyword">end</span> <span class="comment">% ylabel</span>

        <span class="keyword">function</span> varargout = title( obj, varargin )

            [varargout{1:nargout}] = title( obj.Axes, varargin{:} );

        <span class="keyword">end</span> <span class="comment">% title</span>

        <span class="keyword">function</span> varargout = subtitle( obj, varargin )

            [varargout{1:nargout}] = subtitle( obj.Axes, varargin{:} );

        <span class="keyword">end</span> <span class="comment">% subtitle</span>

        <span class="keyword">function</span> grid( obj, varargin )

            grid( obj.Axes, varargin{:} )

        <span class="keyword">end</span> <span class="comment">% grid</span>

        <span class="keyword">function</span> varargout = axis( obj, varargin )

            [varargout{1:nargout}] = axis( obj.Axes, varargin{:} );

        <span class="keyword">end</span> <span class="comment">% axis</span>

    <span class="keyword">end</span> <span class="comment">% methods</span>

    <span class="keyword">methods</span> ( Access = protected )

        <span class="keyword">function</span> setup( obj )
            <span class="comment">%SETUP Initialize the chart's graphics and controls.</span>

            <span class="comment">% Create the chart's axes.</span>
            obj.Axes = axes( <span class="string">"Parent"</span>, obj.getLayout(), <span class="keyword">...</span>
                <span class="string">"Box"</span>, <span class="string">"on"</span>, <span class="keyword">...</span>
                <span class="string">"Interactions"</span>, dataTipInteraction, <span class="keyword">...</span>
                <span class="string">"Toolbar"</span>, [], <span class="keyword">...</span>
                <span class="string">"DataAspectRatio"</span>, [10, 1, 1], <span class="keyword">...</span>
                <span class="string">"XAxisLocation"</span>, <span class="string">"origin"</span>, <span class="keyword">...</span>
                <span class="string">"YAxisLocation"</span>, <span class="string">"origin"</span> );

            <span class="comment">% Customize the axes' appearance.</span>
            set( [obj.Axes.XAxis, obj.Axes.YAxis], <span class="string">"Exponent"</span>, 0 )
            xlabel( obj.Axes, <span class="string">"Motor speed (RPM)"</span> )
            ylabel( obj.Axes, <span class="string">"Motor torque (Nm)"</span> )
            title( obj.Axes, <span class="string">"Induction Motor Performance"</span> )
            grid( obj.Axes, <span class="string">"on"</span> )

            <span class="comment">% Create the patch and line objects for the backdrop.</span>

            <span class="comment">% Normal region.</span>
            obj.NormalRegionPatch = patch( <span class="string">"Parent"</span>, obj.Axes, <span class="keyword">...</span>
                <span class="string">"XData"</span>, NaN, <span class="keyword">...</span>
                <span class="string">"YData"</span>, NaN, <span class="keyword">...</span>
                <span class="string">"FaceColor"</span>, obj.Axes.ColorOrder(1, :), <span class="keyword">...</span>
                <span class="string">"FaceAlpha"</span>, 0.6, <span class="keyword">...</span>
                <span class="string">"EdgeColor"</span>, <span class="string">"none"</span>, <span class="keyword">...</span>
                <span class="string">"PickableParts"</span>, <span class="string">"none"</span>, <span class="keyword">...</span>
                <span class="string">"DisplayName"</span>, <span class="string">"Normal running"</span> );

            <span class="comment">% Buffer region.</span>
            obj.BufferRegionPatch = patch( <span class="string">"Parent"</span>, obj.Axes, <span class="keyword">...</span>
                <span class="string">"XData"</span>, NaN, <span class="keyword">...</span>
                <span class="string">"YData"</span>, NaN, <span class="keyword">...</span>
                <span class="string">"FaceColor"</span>, obj.Axes.ColorOrder(3, :), <span class="keyword">...</span>
                <span class="string">"FaceAlpha"</span>, 0.6, <span class="keyword">...</span>
                <span class="string">"EdgeColor"</span>, <span class="string">"none"</span>, <span class="keyword">...</span>
                <span class="string">"PickableParts"</span>, <span class="string">"none"</span>, <span class="keyword">...</span>
                <span class="string">"DisplayName"</span>, <span class="string">"Buffer region"</span> );

            <span class="comment">% Overload region.</span>
            obj.OverloadRegionPatch = patch( <span class="string">"Parent"</span>, obj.Axes, <span class="keyword">...</span>
                <span class="string">"XData"</span>, NaN, <span class="keyword">...</span>
                <span class="string">"YData"</span>, NaN, <span class="keyword">...</span>
                <span class="string">"FaceColor"</span>, obj.Axes.ColorOrder(2, :), <span class="keyword">...</span>
                <span class="string">"FaceAlpha"</span>, 0.6, <span class="keyword">...</span>
                <span class="string">"EdgeColor"</span>, <span class="string">"none"</span>, <span class="keyword">...</span>
                <span class="string">"PickableParts"</span>, <span class="string">"none"</span>, <span class="keyword">...</span>
                <span class="string">"DisplayName"</span>, <span class="string">"Overload region"</span> );

            <span class="comment">% Rated curves.</span>
            obj.RatedCurves = line( <span class="string">"Parent"</span>, obj.Axes, <span class="keyword">...</span>
                <span class="string">"XData"</span>, NaN, <span class="keyword">...</span>
                <span class="string">"YData"</span>, NaN, <span class="keyword">...</span>
                <span class="string">"Color"</span>, obj.Axes.ColorOrder(4, :), <span class="keyword">...</span>
                <span class="string">"LineStyle"</span>, <span class="string">":"</span>, <span class="keyword">...</span>
                <span class="string">"LineWidth"</span>, 2, <span class="keyword">...</span>
                <span class="string">"PickableParts"</span>, <span class="string">"none"</span>, <span class="keyword">...</span>
                <span class="string">"DisplayName"</span>, <span class="string">"Rated"</span> );

            <span class="comment">% Reduced curves.</span>
            obj.ReducedCurves = line( <span class="string">"Parent"</span>, obj.Axes, <span class="keyword">...</span>
                <span class="string">"XData"</span>, NaN, <span class="keyword">...</span>
                <span class="string">"YData"</span>, NaN, <span class="keyword">...</span>
                <span class="string">"Color"</span>, obj.Axes.ColorOrder(5, :), <span class="keyword">...</span>
                <span class="string">"LineStyle"</span>, <span class="string">":"</span>, <span class="keyword">...</span>
                <span class="string">"LineWidth"</span>, 2, <span class="keyword">...</span>
                <span class="string">"PickableParts"</span>, <span class="string">"none"</span>, <span class="keyword">...</span>
                <span class="string">"DisplayName"</span>, <span class="string">"Reduced"</span> );

            <span class="comment">% Plot the operating point.</span>
            hold( obj.Axes, <span class="string">"on"</span> )
            obj.OperatingPointPlot = plot( obj.Axes, NaN, NaN, <span class="keyword">...</span>
                <span class="string">"Color"</span>, obj.Axes.ColorOrder(6, :), <span class="keyword">...</span>
                <span class="string">"Marker"</span>, <span class="string">"."</span>, <span class="keyword">...</span>
                <span class="string">"LineStyle"</span>, <span class="string">"none"</span>, <span class="keyword">...</span>
                <span class="string">"MarkerSize"</span>, 20, <span class="keyword">...</span>
                <span class="string">"DisplayName"</span>, <span class="string">"Operating point"</span> );
            hold( obj.Axes, <span class="string">"off"</span> )

            <span class="comment">% Enable a custom datatip.</span>
            obj.OperatingPointPlot.DataTipTemplate<span class="keyword">...</span>
                .DataTipRows(1).Label = <span class="string">"Motor speed (RPM):"</span>;
            obj.OperatingPointPlot.DataTipTemplate<span class="keyword">...</span>
                .DataTipRows(2).Label = <span class="string">"Motor torque (Nm):"</span>;

            <span class="comment">% Add the legend.</span>
            legend( obj.Axes, <span class="string">"Location"</span>, <span class="string">"northeastoutside"</span> )

        <span class="keyword">end</span> <span class="comment">% setup</span>

        <span class="keyword">function</span> update( obj )
            <span class="comment">%UPDATE Refresh the chart's graphics in response to any</span>
            <span class="comment">%changes.</span>

            <span class="comment">% Update the operating point.</span>
            speed = obj.OperatingPoint(1);
            torque = obj.OperatingPoint(2);
            set( obj.OperatingPointPlot, <span class="string">"XData"</span>, speed, <span class="string">"YData"</span>, torque )

            <span class="comment">% Notify the "AbnormalPerformanceDetected" event if the motor</span>
            <span class="comment">% performance has gone outside the normal operating region.</span>
            region = obj.MotorParameters.NormalRegion;
            <span class="keyword">if</span> ~inNormalRegion( speed, torque, region(:, 1), region(:, 2) )
                obj.notify( <span class="string">"AbnormalPerformanceDetected"</span> )
            <span class="keyword">end</span> <span class="comment">% if</span>

            <span class="comment">% Update the backdrop if needed.</span>
            <span class="keyword">if</span> obj.FullUpdateRequired

                <span class="comment">% Update the axes and backdrop graphics.</span>
                set( obj.Axes, <span class="keyword">...</span>
                    <span class="string">"XLim"</span>, obj.MotorParameters.Bounds(1:2), <span class="keyword">...</span>
                    <span class="string">"YLim"</span>, obj.MotorParameters.Bounds(3:4) )
                set( obj.NormalRegionPatch, <span class="keyword">...</span>
                    <span class="string">"XData"</span>, obj.MotorParameters.NormalRegion(:, 1), <span class="keyword">...</span>
                    <span class="string">"YData"</span>, obj.MotorParameters.NormalRegion(:, 2) )
                set( obj.BufferRegionPatch, <span class="keyword">...</span>
                    <span class="string">"XData"</span>, obj.MotorParameters.BufferRegion(:, 1:2), <span class="keyword">...</span>
                    <span class="string">"YData"</span>, obj.MotorParameters.BufferRegion(:, 3:4) )
                set( obj.OverloadRegionPatch, <span class="string">"XData"</span>, <span class="keyword">...</span>
                    obj.MotorParameters.OverloadRegion(:, 1:2), <span class="keyword">...</span>
                    <span class="string">"YData"</span>, obj.MotorParameters.OverloadRegion(:, 3:4) )
                set( obj.RatedCurves, <span class="keyword">...</span>
                    <span class="string">"XData"</span>, obj.MotorParameters.RatedCurves(:, 1), <span class="keyword">...</span>
                    <span class="string">"YData"</span>, obj.MotorParameters.RatedCurves(:, 2) )
                set( obj.ReducedCurves, <span class="keyword">...</span>
                    <span class="string">"XData"</span>, obj.MotorParameters.ReducedCurves(:, 1), <span class="keyword">...</span>
                    <span class="string">"YData"</span>, obj.MotorParameters.ReducedCurves(:, 2) )

                <span class="comment">% Reset the flag.</span>
                obj.FullUpdateRequired = false;

            <span class="keyword">end</span> <span class="comment">% if</span>

            <span class="comment">% Update the decorative properties.</span>
            obj.Axes.Legend.Visible = obj.LegendVisible;
            set( [obj.ReducedCurves, obj.RatedCurves], <span class="keyword">...</span>
                <span class="string">"LineWidth"</span>, obj.LineWidth )
            obj.OperatingPointPlot.MarkerSize = obj.MarkerSize;
            set( [obj.NormalRegionPatch, obj.BufferRegionPatch, <span class="keyword">...</span>
                obj.OverloadRegionPatch], <span class="string">"FaceAlpha"</span>, obj.FaceAlpha )

        <span class="keyword">end</span> <span class="comment">% update</span>

    <span class="keyword">end</span> <span class="comment">% methods ( Access = protected )</span>

<span class="keyword">end</span> <span class="comment">% classdef</span>

<span class="keyword">function</span> tf = inNormalRegion( x, y, xr, yr )
<span class="comment">%INNORMALREGION Determine whether the point (x, y) lies in the rectangle</span>
<span class="comment">%with vertices (xr, yr).</span>

[mnx, mxx] = bounds( xr );
[mny, mxy] = bounds( yr );
tf = x &gt;= mnx &amp;&amp; x &lt;= mxx &amp;&amp; y &gt;= mny &amp;&amp; y &lt;= mxy;

<span class="keyword">end</span> <span class="comment">% inNormalRegion</span>
</pre>
</div>
<!--
##### SOURCE BEGIN #####
classdef InductionMotorChart < Chart
    %INDUCTIONMOTORCHART Chart representing the operating performance of an
    %induction motor. Thanks to Chris Armstrong for the idea behind this
    %example.
    %
    % See also InductionMotorParameters.

    % Copyright 2021-2025 The MathWorks, Inc.

    properties
        % Operating point of the motor.
        OperatingPoint(1, 2) double {mustBeReal, mustBeFinite} = [0, 0]
        % Width of the rated and reduced curves.
        LineWidth(1, 1) double {mustBePositive, mustBeFinite} = 2
        % Operating point marker size.
        MarkerSize(1, 1) double {mustBePositive, mustBeFinite} = 20
        % Transparency of the patches.
        FaceAlpha(1, 1) double {mustBeInRange( FaceAlpha, 0, 1 )} = 0.6
        % Visibility of the legend.
        LegendVisible(1, 1) matlab.lang.OnOffSwitchState = "on"
    end % properties

    properties ( Dependent )
        % A set of induction motor parameters.
        MotorParameters(1, 1) InductionMotorParameters
    end % properties

    properties ( Access = private, Transient, NonCopyable )
        % The chart's axes.
        Axes(:, 1) matlab.graphics.axis.Axes {mustBeScalarOrEmpty}
        % A plot object for the operating point.
        OperatingPointPlot(:, 1) matlab.graphics.chart.primitive.Line ...
            {mustBeScalarOrEmpty}
        % A patch object for the normal operating region.
        NormalRegionPatch(:, 1) matlab.graphics.primitive.Patch ...
            {mustBeScalarOrEmpty}
        % A patch object for the buffer region.
        BufferRegionPatch(:, 1) matlab.graphics.primitive.Patch ...
            {mustBeScalarOrEmpty}
        % A patch object for the overload region.
        OverloadRegionPatch(:, 1) matlab.graphics.primitive.Patch ...
            {mustBeScalarOrEmpty}
        % A line object for the rated curves.
        RatedCurves(:, 1) matlab.graphics.primitive.Line ...
            {mustBeScalarOrEmpty}
        % A line object for the reduced curves.
        ReducedCurves(:, 1) matlab.graphics.primitive.Line ...
            {mustBeScalarOrEmpty}
    end % properties ( Access = private, Transient, NonCopyable )

    properties ( Access = private )
        % Internal storage for the MotorParameters property.
        MotorParameters_(1, 1) InductionMotorParameters = ...
            InductionMotorParameters
        % Logical flag indicating whether a full chart update is required.
        FullUpdateRequired(1, 1) logical = false
    end % properties ( Access = private )

    properties ( Constant, Hidden )
        % Product dependencies.
        Dependencies(1, :) string = "MATLAB"
        % Description.
        ShortDescription(1, 1) string = "Display the operating point" + ...
            " of an induction motor in speed-torque coordinates"
    end % properties ( Constant, Hidden )

    events ( NotifyAccess = private, HasCallbackProperty )
        % The operating point has moved out of the normal running region.
        AbnormalPerformanceDetected
    end % events ( NotifyAccess = private, HasCallbackProperty )

    methods

        function obj = InductionMotorChart( namedArgs )
            %INDUCTIONMOTORCHART Construct an InductionMotorChart object,
            %given optional name-value arguments.

            arguments ( Input )
                namedArgs.?InductionMotorChart
            end % arguments ( Input )            

            % Set any user-defined properties.
            set( obj, namedArgs )

        end % constructor

        function value = get.MotorParameters( obj )

            value = obj.MotorParameters_;

        end % get.MotorParameters

        function set.MotorParameters( obj, value )

            obj.FullUpdateRequired = true;
            obj.MotorParameters_ = value;

        end % set.MotorParameters

        function varargout = xlabel( obj, varargin )

            [varargout{1:nargout}] = xlabel( obj.Axes, varargin{:} );

        end % xlabel

        function varargout = ylabel( obj, varargin )

            [varargout{1:nargout}] = ylabel( obj.Axes, varargin{:} );

        end % ylabel

        function varargout = title( obj, varargin )

            [varargout{1:nargout}] = title( obj.Axes, varargin{:} );

        end % title

        function varargout = subtitle( obj, varargin )

            [varargout{1:nargout}] = subtitle( obj.Axes, varargin{:} );

        end % subtitle

        function grid( obj, varargin )

            grid( obj.Axes, varargin{:} )

        end % grid

        function varargout = axis( obj, varargin )

            [varargout{1:nargout}] = axis( obj.Axes, varargin{:} );

        end % axis

    end % methods

    methods ( Access = protected )

        function setup( obj )
            %SETUP Initialize the chart's graphics and controls.

            % Create the chart's axes.
            obj.Axes = axes( "Parent", obj.getLayout(), ...
                "Box", "on", ...
                "Interactions", dataTipInteraction, ...
                "Toolbar", [], ...
                "DataAspectRatio", [10, 1, 1], ...
                "XAxisLocation", "origin", ...
                "YAxisLocation", "origin" );

            % Customize the axes' appearance.
            set( [obj.Axes.XAxis, obj.Axes.YAxis], "Exponent", 0 )
            xlabel( obj.Axes, "Motor speed (RPM)" )
            ylabel( obj.Axes, "Motor torque (Nm)" )
            title( obj.Axes, "Induction Motor Performance" )
            grid( obj.Axes, "on" )

            % Create the patch and line objects for the backdrop.

            % Normal region.
            obj.NormalRegionPatch = patch( "Parent", obj.Axes, ...
                "XData", NaN, ...
                "YData", NaN, ...
                "FaceColor", obj.Axes.ColorOrder(1, :), ...
                "FaceAlpha", 0.6, ...
                "EdgeColor", "none", ...
                "PickableParts", "none", ...
                "DisplayName", "Normal running" );

            % Buffer region.
            obj.BufferRegionPatch = patch( "Parent", obj.Axes, ...
                "XData", NaN, ...
                "YData", NaN, ...
                "FaceColor", obj.Axes.ColorOrder(3, :), ...
                "FaceAlpha", 0.6, ...
                "EdgeColor", "none", ...
                "PickableParts", "none", ...
                "DisplayName", "Buffer region" );

            % Overload region.
            obj.OverloadRegionPatch = patch( "Parent", obj.Axes, ...
                "XData", NaN, ...
                "YData", NaN, ...
                "FaceColor", obj.Axes.ColorOrder(2, :), ...
                "FaceAlpha", 0.6, ...
                "EdgeColor", "none", ...
                "PickableParts", "none", ...
                "DisplayName", "Overload region" );

            % Rated curves.
            obj.RatedCurves = line( "Parent", obj.Axes, ...
                "XData", NaN, ...
                "YData", NaN, ...
                "Color", obj.Axes.ColorOrder(4, :), ...
                "LineStyle", ":", ...
                "LineWidth", 2, ...
                "PickableParts", "none", ...
                "DisplayName", "Rated" );

            % Reduced curves.
            obj.ReducedCurves = line( "Parent", obj.Axes, ...
                "XData", NaN, ...
                "YData", NaN, ...
                "Color", obj.Axes.ColorOrder(5, :), ...
                "LineStyle", ":", ...
                "LineWidth", 2, ...
                "PickableParts", "none", ...
                "DisplayName", "Reduced" );

            % Plot the operating point.
            hold( obj.Axes, "on" )
            obj.OperatingPointPlot = plot( obj.Axes, NaN, NaN, ...
                "Color", obj.Axes.ColorOrder(6, :), ...
                "Marker", ".", ...
                "LineStyle", "none", ...
                "MarkerSize", 20, ...
                "DisplayName", "Operating point" );
            hold( obj.Axes, "off" )

            % Enable a custom datatip.
            obj.OperatingPointPlot.DataTipTemplate...
                .DataTipRows(1).Label = "Motor speed (RPM):";
            obj.OperatingPointPlot.DataTipTemplate...
                .DataTipRows(2).Label = "Motor torque (Nm):";

            % Add the legend.
            legend( obj.Axes, "Location", "northeastoutside" )

        end % setup

        function update( obj )
            %UPDATE Refresh the chart's graphics in response to any
            %changes.

            % Update the operating point.
            speed = obj.OperatingPoint(1);
            torque = obj.OperatingPoint(2);
            set( obj.OperatingPointPlot, "XData", speed, "YData", torque )

            % Notify the "AbnormalPerformanceDetected" event if the motor 
            % performance has gone outside the normal operating region.
            region = obj.MotorParameters.NormalRegion;            
            if ~inNormalRegion( speed, torque, region(:, 1), region(:, 2) )
                obj.notify( "AbnormalPerformanceDetected" )
            end % if

            % Update the backdrop if needed.
            if obj.FullUpdateRequired

                % Update the axes and backdrop graphics.
                set( obj.Axes, ...
                    "XLim", obj.MotorParameters.Bounds(1:2), ...
                    "YLim", obj.MotorParameters.Bounds(3:4) )
                set( obj.NormalRegionPatch, ...
                    "XData", obj.MotorParameters.NormalRegion(:, 1), ...
                    "YData", obj.MotorParameters.NormalRegion(:, 2) )
                set( obj.BufferRegionPatch, ...
                    "XData", obj.MotorParameters.BufferRegion(:, 1:2), ...
                    "YData", obj.MotorParameters.BufferRegion(:, 3:4) )
                set( obj.OverloadRegionPatch, "XData", ...
                    obj.MotorParameters.OverloadRegion(:, 1:2), ...
                    "YData", obj.MotorParameters.OverloadRegion(:, 3:4) )
                set( obj.RatedCurves, ...
                    "XData", obj.MotorParameters.RatedCurves(:, 1), ...
                    "YData", obj.MotorParameters.RatedCurves(:, 2) )
                set( obj.ReducedCurves, ...
                    "XData", obj.MotorParameters.ReducedCurves(:, 1), ...
                    "YData", obj.MotorParameters.ReducedCurves(:, 2) )

                % Reset the flag.
                obj.FullUpdateRequired = false;

            end % if

            % Update the decorative properties.
            obj.Axes.Legend.Visible = obj.LegendVisible;
            set( [obj.ReducedCurves, obj.RatedCurves], ...
                "LineWidth", obj.LineWidth )
            obj.OperatingPointPlot.MarkerSize = obj.MarkerSize;
            set( [obj.NormalRegionPatch, obj.BufferRegionPatch, ...
                obj.OverloadRegionPatch], "FaceAlpha", obj.FaceAlpha )

        end % update

    end % methods ( Access = protected )

end % classdef

function tf = inNormalRegion( x, y, xr, yr )
%INNORMALREGION Determine whether the point (x, y) lies in the rectangle
%with vertices (xr, yr).

[mnx, mxx] = bounds( xr );
[mny, mxy] = bounds( yr );
tf = x >= mnx && x <= mxx && y >= mny && y <= mxy;

end % inNormalRegion
##### SOURCE END #####
-->
</body>
</html>
