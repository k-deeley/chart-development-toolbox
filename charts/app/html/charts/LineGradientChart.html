<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<!--
This HTML was auto-generated from MATLAB code.
To make changes, update the MATLAB code and republish this document.
      -->
<title>LineGradientChart</title>
<meta name="generator" content="MATLAB 25.1">
<link rel="schema.DC" href="http://purl.org/dc/elements/1.1/">
<meta name="DC.date" content="2025-01-11">
<meta name="DC.source" content="LineGradientChart.m">
<style type="text/css">
html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,font,img,ins,kbd,q,s,samp,small,strike,strong,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td{margin:0;padding:0;border:0;outline:0;font-size:100%;vertical-align:baseline;background:transparent}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none}:focus{outine:0}ins{text-decoration:none}del{text-decoration:line-through}table{border-collapse:collapse;border-spacing:0}

html { min-height:100%; margin-bottom:1px; }
html body { height:100%; margin:0px; font-family:Arial, Helvetica, sans-serif; font-size:10px; color:#000; line-height:140%; background:#fff none; overflow-y:scroll; }
html body td { vertical-align:top; text-align:left; }

h1 { padding:0px; margin:0px 0px 25px; font-family:Arial, Helvetica, sans-serif; font-size:1.5em; color:#d55000; line-height:100%; font-weight:normal; }
h2 { padding:0px; margin:0px 0px 8px; font-family:Arial, Helvetica, sans-serif; font-size:1.2em; color:#000; font-weight:bold; line-height:140%; border-bottom:1px solid #d6d4d4; display:block; }
h3 { padding:0px; margin:0px 0px 5px; font-family:Arial, Helvetica, sans-serif; font-size:1.1em; color:#000; font-weight:bold; line-height:140%; }

a { color:#005fce; text-decoration:none; }
a:hover { color:#005fce; text-decoration:underline; }
a:visited { color:#004aa0; text-decoration:none; }

p { padding:0px; margin:0px 0px 20px; }
img { padding:0px; margin:0px 0px 20px; border:none; }
p img, pre img, tt img, li img, h1 img, h2 img { margin-bottom:0px; }

ul { padding:0px; margin:0px 0px 20px 23px; list-style:square; }
ul li { padding:0px; margin:0px 0px 7px 0px; }
ul li ul { padding:5px 0px 0px; margin:0px 0px 7px 23px; }
ul li ol li { list-style:decimal; }
ol { padding:0px; margin:0px 0px 20px 0px; list-style:decimal; }
ol li { padding:0px; margin:0px 0px 7px 23px; list-style-type:decimal; }
ol li ol { padding:5px 0px 0px; margin:0px 0px 7px 0px; }
ol li ol li { list-style-type:lower-alpha; }
ol li ul { padding-top:7px; }
ol li ul li { list-style:square; }

.content { font-size:1.2em; line-height:140%; padding: 20px; }

pre, code { font-size:12px; }
tt { font-size: 1.2em; }
pre { margin:0px 0px 20px; }
pre.codeinput { padding:10px; border:1px solid #d3d3d3; background:#f7f7f7; }
pre.codeoutput { padding:10px 11px; margin:0px 0px 20px; color:#4c4c4c; }
pre.error { color:red; }

@media print { pre.codeinput, pre.codeoutput { word-wrap:break-word; width:100%; } }

span.keyword { color:#0000FF }
span.comment { color:#228B22 }
span.string { color:#A020F0 }
span.untermstring { color:#B20000 }
span.syscmd { color:#B28C00 }
span.typesection { color:#A0522D }

.footer { width:auto; padding:10px 0px; margin:25px 0px 0px; border-top:1px dotted #878787; font-size:0.8em; line-height:140%; font-style:italic; color:#878787; text-align:left; float:none; }
.footer p { margin:0px; }
.footer a { color:#878787; }
.footer a:hover { color:#878787; text-decoration:underline; }
.footer a:visited { color:#878787; }

table th { padding:7px 5px; text-align:left; vertical-align:middle; border: 1px solid #d6d4d4; font-weight:bold; }
table td { padding:7px 5px; text-align:left; vertical-align:top; border:1px solid #d6d4d4; }





  </style>
</head>
<body>
<div class="content">
<pre class="codeinput">
<span class="keyword">classdef</span> LineGradientChart &lt; Chart
    <span class="comment">%LINEGRADIENTCHART Chart for managing a variable-color curve plotted</span>
    <span class="comment">%against a date/time vector.</span>

    <span class="comment">% Copyright 2018-2025 The MathWorks, Inc.</span>

    <span class="keyword">properties</span> ( Dependent )
        <span class="comment">% Chart x-data.</span>
        XData<span class="typesection">(:, 1) datetime {mustBeSorted}</span>
        <span class="comment">% Chart y-data.</span>
        YData<span class="typesection">(:, 1) double {mustBeReal}</span>
    <span class="keyword">end</span> <span class="comment">% properties ( Dependent )</span>

    <span class="keyword">properties</span>
        <span class="comment">% Width of the line.</span>
        LineWidth<span class="typesection">(1, 1) double {mustBePositive, mustBeFinite}</span> = 0.5
        <span class="comment">% Axes x-grid.</span>
        XGrid<span class="typesection">(1, 1) matlab.lang.OnOffSwitchState </span>= <span class="string">"on"</span>
        <span class="comment">% Axes y-grid.</span>
        YGrid<span class="typesection">(1, 1) matlab.lang.OnOffSwitchState </span>= <span class="string">"on"</span>
    <span class="keyword">end</span> <span class="comment">% properties</span>

    <span class="keyword">properties</span> ( Access = private )
        <span class="comment">% Internal storage for the XData property.</span>
        XData_<span class="typesection">(2, :) datetime </span>= NaT( 2, 1 )
        <span class="comment">% Internal storage for the YData property.</span>
        YData_<span class="typesection">(2, :) double {mustBeReal}</span> = NaN( 2, 1 )
        <span class="comment">% Logical scalar specifying whether a computation is required.</span>
        ComputationRequired<span class="typesection">(1, 1) logical </span>= false
    <span class="keyword">end</span> <span class="comment">% properties ( Access = private )</span>

    <span class="keyword">properties</span> ( Access = private, Transient, NonCopyable )
        <span class="comment">% Chart axes.</span>
        Axes<span class="typesection">(:, 1) matlab.graphics.axis.Axes {mustBeScalarOrEmpty}</span>
        <span class="comment">% Line with a color gradient, implemented internally as a surface.</span>
        Surface<span class="typesection">(:, 1) matlab.graphics.primitive.Surface </span><span class="keyword">...</span>
            <span class="typesection">{mustBeScalarOrEmpty}</span>
    <span class="keyword">end</span> <span class="comment">% properties ( Access = private, Transient, NonCopyable )</span>

    <span class="keyword">properties</span> ( Constant, Hidden )
        <span class="comment">% Product dependencies.</span>
        Dependencies<span class="typesection">(1, :) string </span>= <span class="string">"MATLAB"</span>
        <span class="comment">% Description.</span>
        ShortDescription<span class="typesection">(1, 1) string </span>= <span class="string">"Plot a variable-color "</span> + <span class="keyword">...</span>
            <span class="string">"curve against a date/time vector"</span>
    <span class="keyword">end</span> <span class="comment">% properties ( Constant, Hidden )</span>

    <span class="keyword">methods</span>

        <span class="keyword">function</span> value = get.XData( obj )

            value = obj.XData_(1, :).';

        <span class="keyword">end</span> <span class="comment">% get.XData</span>

        <span class="keyword">function</span> set.XData( obj, value )

            <span class="comment">% Mark the chart for an update.</span>
            obj.ComputationRequired = true;

            <span class="comment">% Decide how to modify the chart data.</span>
            nX = numel( value );
            nY = numel( obj.YData );

            <span class="keyword">if</span> nX &lt; nY <span class="comment">% If the new x-data is too short ...</span>
                <span class="comment">% ... then chop the chart y-data.</span>
                obj.YData_ = obj.YData_(:, 1:nX);
            <span class="keyword">else</span>
                <span class="comment">% Otherwise, if nX &gt;= nY, then pad the y-data.</span>
                obj.YData_(:, end+1:nX) = NaN;
            <span class="keyword">end</span> <span class="comment">% if</span>

            <span class="comment">% Set the internal x-data.</span>
            obj.XData_ = [value(:), value(:)].';

        <span class="keyword">end</span> <span class="comment">% set.XData</span>

        <span class="keyword">function</span> value = get.YData( obj )

            value = obj.YData_(1, :).';

        <span class="keyword">end</span> <span class="comment">% get.YData</span>

        <span class="keyword">function</span> set.YData( obj, value )

            <span class="comment">% Mark the chart for an update.</span>
            obj.ComputationRequired = true;

            <span class="comment">% Decide how to modify the chart data.</span>
            nY = numel( value );
            nX = numel( obj.XData );

            <span class="keyword">if</span> nY &lt; nX <span class="comment">% If the new y-data is too short ...</span>
                <span class="comment">% ... then chop the chart x-data.</span>
                obj.XData_ = obj.XData_(:, 1:nY);
            <span class="keyword">else</span>
                <span class="comment">% Otherwise, if nY &gt;= nX, then pad the x-data.</span>
                obj.XData_(:, end+1:nY) = NaT;
            <span class="keyword">end</span> <span class="comment">% if</span>

            <span class="comment">% Set the internal y-data.</span>
            obj.YData_ = [value(:), value(:)].';

        <span class="keyword">end</span> <span class="comment">% set.YData</span>

    <span class="keyword">end</span> <span class="comment">% methods</span>

    <span class="keyword">methods</span>

        <span class="keyword">function</span> obj = LineGradientChart( namedArgs )
            <span class="comment">%LINEGRADIENTCHART Construct a LineGradientChart, given</span>
            <span class="comment">%optional name-value arguments.</span>

            <span class="keyword">arguments</span> ( Input )
                namedArgs.?LineGradientChart
            <span class="keyword">end</span> <span class="comment">% arguments ( Input )</span>

            <span class="comment">% Set any user-defined properties.</span>
            set( obj, namedArgs )

        <span class="keyword">end</span> <span class="comment">% constructor</span>

        <span class="keyword">function</span> varargout = xlabel( obj, varargin )

            [varargout{1:nargout}] = xlabel( obj.Axes, varargin{:} );

        <span class="keyword">end</span> <span class="comment">% xlabel</span>

        <span class="keyword">function</span> varargout = ylabel( obj, varargin )

            [varargout{1:nargout}] = ylabel( obj.Axes, varargin{:} );

        <span class="keyword">end</span> <span class="comment">% ylabel</span>

        <span class="keyword">function</span> varargout = title( obj, varargin )

            [varargout{1:nargout}] = title( obj.Axes, varargin{:} );

        <span class="keyword">end</span> <span class="comment">% title</span>

        <span class="keyword">function</span> grid( obj, varargin )

            <span class="comment">% Invoke grid on the axes.</span>
            grid( obj.Axes, varargin{:} )

            <span class="comment">% Ensure the properties are up-to-date.</span>
            obj.XGrid = obj.Axes.XGrid;
            obj.YGrid = obj.Axes.YGrid;

        <span class="keyword">end</span> <span class="comment">% grid</span>

        <span class="keyword">function</span> varargout = colormap( obj, varargin )

            [varargout{1:nargout}] = colormap( obj.Axes, varargin{:} );

        <span class="keyword">end</span> <span class="comment">% colormap</span>

        <span class="keyword">function</span> varargout = colorbar( obj, varargin )

            [varargout{1:nargout}] = colorbar( obj.Axes, varargin{:} );

        <span class="keyword">end</span> <span class="comment">% colorbar</span>

        <span class="keyword">function</span> varargout = axis( obj, varargin )

            [varargout{1:nargout}] = axis( obj.Axes, varargin{:} );

        <span class="keyword">end</span> <span class="comment">% axis</span>

    <span class="keyword">end</span> <span class="comment">% methods</span>

    <span class="keyword">methods</span> ( Access = protected )

        <span class="keyword">function</span> setup( obj )
            <span class="comment">%SETUP Initialize the chart graphics.</span>

            <span class="comment">% Create the axes.</span>
            obj.Axes = axes( <span class="string">"Parent"</span>, obj.getLayout() );

            <span class="comment">% Create the chart graphics.</span>
            obj.Surface = surface( obj.Axes, NaT( 2 ), NaN( 2 ), <span class="keyword">...</span>
                NaN( 2 ), NaN( 2 ), <span class="string">"EdgeColor"</span>, <span class="string">"flat"</span> );

        <span class="keyword">end</span> <span class="comment">% setup</span>

        <span class="keyword">function</span> update( obj )
            <span class="comment">%UPDATE Refresh the chart graphics.</span>

            <span class="keyword">if</span> obj.ComputationRequired

                <span class="comment">% Update the surface plot with the new data.</span>
                z = zeros( size( obj.XData_ ) );
                set( obj.Surface, <span class="string">"XData"</span>, obj.XData_, <span class="keyword">...</span>
                    <span class="string">"YData"</span>, obj.YData_, <span class="keyword">...</span>
                    <span class="string">"ZData"</span>, z, <span class="keyword">...</span>
                    <span class="string">"CData"</span>, obj.YData_ );
                <span class="comment">% Mark the chart clean.</span>
                obj.ComputationRequired = false;

            <span class="keyword">end</span> <span class="comment">% if</span>

            <span class="comment">% Refresh the chart's decorative properties.</span>
            obj.Surface.LineWidth = obj.LineWidth;
            set( obj.Axes, <span class="string">"XGrid"</span>, obj.XGrid, <span class="string">"YGrid"</span>, obj.YGrid )

        <span class="keyword">end</span> <span class="comment">% update</span>

    <span class="keyword">end</span> <span class="comment">% methods ( Access = private )</span>

<span class="keyword">end</span> <span class="comment">% classdef</span>

<span class="keyword">function</span> mustBeSorted( d )
<span class="comment">%MUSTBESORTED Validate that the input datetime vector is sorted.</span>

assert( issorted( d ), <span class="keyword">...</span>
    <span class="string">"LineGradientChart:DecreasingData"</span>, <span class="keyword">...</span>
    <span class="string">"The LineGradient chart's x-data must be nondecreasing."</span> )

<span class="keyword">end</span> <span class="comment">% mustBeSorted</span>
</pre>
</div>
<!--
##### SOURCE BEGIN #####
classdef LineGradientChart < Chart
    %LINEGRADIENTCHART Chart for managing a variable-color curve plotted 
    %against a date/time vector.
    
    % Copyright 2018-2025 The MathWorks, Inc.
    
    properties ( Dependent )
        % Chart x-data.
        XData(:, 1) datetime {mustBeSorted}
        % Chart y-data.
        YData(:, 1) double {mustBeReal}
    end % properties ( Dependent )
    
    properties
        % Width of the line.
        LineWidth(1, 1) double {mustBePositive, mustBeFinite} = 0.5
        % Axes x-grid.
        XGrid(1, 1) matlab.lang.OnOffSwitchState = "on"
        % Axes y-grid.
        YGrid(1, 1) matlab.lang.OnOffSwitchState = "on"
    end % properties
    
    properties ( Access = private )
        % Internal storage for the XData property.
        XData_(2, :) datetime = NaT( 2, 1 )
        % Internal storage for the YData property.
        YData_(2, :) double {mustBeReal} = NaN( 2, 1 )
        % Logical scalar specifying whether a computation is required.
        ComputationRequired(1, 1) logical = false
    end % properties ( Access = private )
    
    properties ( Access = private, Transient, NonCopyable )
        % Chart axes.
        Axes(:, 1) matlab.graphics.axis.Axes {mustBeScalarOrEmpty}
        % Line with a color gradient, implemented internally as a surface.
        Surface(:, 1) matlab.graphics.primitive.Surface ...
            {mustBeScalarOrEmpty}
    end % properties ( Access = private, Transient, NonCopyable )
    
    properties ( Constant, Hidden )
        % Product dependencies.
        Dependencies(1, :) string = "MATLAB"
        % Description.
        ShortDescription(1, 1) string = "Plot a variable-color " + ...
            "curve against a date/time vector"
    end % properties ( Constant, Hidden )
    
    methods
        
        function value = get.XData( obj )
            
            value = obj.XData_(1, :).';
            
        end % get.XData
        
        function set.XData( obj, value )
            
            % Mark the chart for an update.
            obj.ComputationRequired = true;
            
            % Decide how to modify the chart data.
            nX = numel( value );
            nY = numel( obj.YData );
            
            if nX < nY % If the new x-data is too short ...
                % ... then chop the chart y-data.
                obj.YData_ = obj.YData_(:, 1:nX);
            else
                % Otherwise, if nX >= nY, then pad the y-data.
                obj.YData_(:, end+1:nX) = NaN;
            end % if
            
            % Set the internal x-data.
            obj.XData_ = [value(:), value(:)].';
            
        end % set.XData
        
        function value = get.YData( obj )
            
            value = obj.YData_(1, :).';
            
        end % get.YData
        
        function set.YData( obj, value )
            
            % Mark the chart for an update.
            obj.ComputationRequired = true;
            
            % Decide how to modify the chart data.
            nY = numel( value );
            nX = numel( obj.XData );
            
            if nY < nX % If the new y-data is too short ...
                % ... then chop the chart x-data.
                obj.XData_ = obj.XData_(:, 1:nY);
            else
                % Otherwise, if nY >= nX, then pad the x-data.
                obj.XData_(:, end+1:nY) = NaT;
            end % if
            
            % Set the internal y-data.
            obj.YData_ = [value(:), value(:)].';
            
        end % set.YData
        
    end % methods
    
    methods

        function obj = LineGradientChart( namedArgs )
            %LINEGRADIENTCHART Construct a LineGradientChart, given
            %optional name-value arguments.

            arguments ( Input )
                namedArgs.?LineGradientChart
            end % arguments ( Input )            

            % Set any user-defined properties.
            set( obj, namedArgs )

        end % constructor
        
        function varargout = xlabel( obj, varargin )
            
            [varargout{1:nargout}] = xlabel( obj.Axes, varargin{:} );
            
        end % xlabel
        
        function varargout = ylabel( obj, varargin )
            
            [varargout{1:nargout}] = ylabel( obj.Axes, varargin{:} );
            
        end % ylabel
        
        function varargout = title( obj, varargin )
            
            [varargout{1:nargout}] = title( obj.Axes, varargin{:} );
            
        end % title
        
        function grid( obj, varargin )
            
            % Invoke grid on the axes.
            grid( obj.Axes, varargin{:} )
            
            % Ensure the properties are up-to-date.
            obj.XGrid = obj.Axes.XGrid;
            obj.YGrid = obj.Axes.YGrid;
            
        end % grid
        
        function varargout = colormap( obj, varargin )
            
            [varargout{1:nargout}] = colormap( obj.Axes, varargin{:} );
            
        end % colormap
        
        function varargout = colorbar( obj, varargin )
            
            [varargout{1:nargout}] = colorbar( obj.Axes, varargin{:} );
            
        end % colorbar

        function varargout = axis( obj, varargin )

            [varargout{1:nargout}] = axis( obj.Axes, varargin{:} );

        end % axis
        
    end % methods
    
    methods ( Access = protected )
        
        function setup( obj )
            %SETUP Initialize the chart graphics.
            
            % Create the axes.
            obj.Axes = axes( "Parent", obj.getLayout() );
            
            % Create the chart graphics.
            obj.Surface = surface( obj.Axes, NaT( 2 ), NaN( 2 ), ...
                NaN( 2 ), NaN( 2 ), "EdgeColor", "flat" );           
            
        end % setup
        
        function update( obj )
            %UPDATE Refresh the chart graphics.
            
            if obj.ComputationRequired
                
                % Update the surface plot with the new data.
                z = zeros( size( obj.XData_ ) );
                set( obj.Surface, "XData", obj.XData_, ...
                    "YData", obj.YData_, ...
                    "ZData", z, ...
                    "CData", obj.YData_ );                
                % Mark the chart clean.
                obj.ComputationRequired = false;
                
            end % if
            
            % Refresh the chart's decorative properties.
            obj.Surface.LineWidth = obj.LineWidth;
            set( obj.Axes, "XGrid", obj.XGrid, "YGrid", obj.YGrid )
            
        end % update
        
    end % methods ( Access = private )
    
end % classdef

function mustBeSorted( d )
%MUSTBESORTED Validate that the input datetime vector is sorted.

assert( issorted( d ), ...
    "LineGradientChart:DecreasingData", ...
    "The LineGradient chart's x-data must be nondecreasing." )

end % mustBeSorted
##### SOURCE END #####
-->
</body>
</html>
